<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Changelog ‚Äì lintquarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-954f2a9f9f7b2cec31abcf8c67fbd0ec.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles/sidebar.css">
<link rel="stylesheet" href="../styles/callouts.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">lintquarto</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../pages/get_started.html"> 
<span class="menu-text">Getting started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/tools/summary.html"> 
<span class="menu-text">User guide</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/api/index.html"> 
<span class="menu-text">Reference</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/contributing.html"> 
<span class="menu-text">Contributing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../pages/changelog.html" aria-current="page"> 
<span class="menu-text">Changelog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lintquarto/lintquarto"> <i class="bi bi-github" role="img" aria-label="lintquarto GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="changelog" class="level1">
<h1>Changelog</h1>
<p>All notable changes to this project are documented.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.1.0/">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>. Dates formatted as YYYY-MM-DD as per <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO standard</a>.</p>
<section id="v0.7.0---2025-12-05" class="level2">
<h2 class="anchored" data-anchor-id="v0.7.0---2025-12-05">v0.7.0 - 2025-12-05</h2>
<p>Fixed converter and CLI behaviour so duplicate output filenames now use an <code>_1</code> suffix, decorator-related E302 issues are suppressed, and paths containing commas correctly raise errors. These are supported by new tests. Other changes include a linting pre-commit hook and updates to documentation.</p>
<section id="added" class="level3">
<h3 class="anchored" data-anchor-id="added">Added</h3>
<ul>
<li><strong>Pre-commit:</strong> Add back in a linting pre-commit.</li>
<li><strong>Tests:</strong>
<ul>
<li>Add test checking that a duplicate filename triggers pylint</li>
<li>Add test detecting E302 error for function with decorator (e.g., <code>@runtime_checkable</code>).</li>
<li>Add test checking error is raised if there are commas in paths.</li>
</ul></li>
</ul>
</section>
<section id="changed" class="level3">
<h3 class="anchored" data-anchor-id="changed">Changed</h3>
<ul>
<li><strong>CONTRIBUTING:</strong> Make conda update instructions clearer, removed emojis and explain pre-commit.</li>
<li><strong>Documentation:</strong> Make command line interface usage / options clearer, correct exclude command, and explain limitation of config files.</li>
</ul>
</section>
<section id="fixed" class="level3">
<h3 class="anchored" data-anchor-id="fixed">Fixed</h3>
<ul>
<li><strong>Converter:</strong>
<ul>
<li>Duplicate filenames now <code>_1</code> instead of <code>(1)</code> (with tests changed accordingly).</li>
<li>Suppress E302 for decorators (<code>@</code>).</li>
</ul></li>
<li><strong><strong>main</strong>:</strong> Check for commas in paths and raise error if found.</li>
</ul>
</section>
</section>
<section id="v0.6.0---2025-09-25" class="level2">
<h2 class="anchored" data-anchor-id="v0.6.0---2025-09-25">v0.6.0 - 2025-09-25</h2>
<p>Updates fix multiple converter and <code>process_qmd</code> issues, including improved detection of Python chunks, handling of comments, Quarto <code>include</code> syntax, and line highlight annotations. Other changes to documentation, actions and tests.</p>
<section id="added-1" class="level3">
<h3 class="anchored" data-anchor-id="added-1">Added</h3>
<ul>
<li><strong>GitHub actions:</strong> Add linting action.</li>
<li><strong>Tests:</strong> Add tests relevant to changes/fixes below.</li>
</ul>
</section>
<section id="changed-1" class="level3">
<h3 class="anchored" data-anchor-id="changed-1">Changed</h3>
<ul>
<li><strong>Acknowledgements:</strong> Redid LLM acknowledgement so just one overarching statement in README, and add more specific details on how it was used, based on PyOpenSci discussions.</li>
<li><strong>Converter:</strong> Quarto code chunks now use noqa messages (rather than changing ‚Äú#|‚Äù to ‚Äú# |‚Äù, as they did before).</li>
<li><strong>CONTRIBUTING:</strong> Corrected instructions for conda update.</li>
<li><strong>process_qmd:</strong> Refactored to reduce complexity and repetition.</li>
<li><strong>README:</strong> Add more badges (build &amp; quality status, stars/download metrics) and button linking to documentation.</li>
</ul>
</section>
<section id="fixed-1" class="level3">
<h3 class="anchored" data-anchor-id="fixed-1">Fixed</h3>
<ul>
<li><strong>process_qmd:</strong> Replace <code>...py</code> in output with just the filename, and not the full file path (as that is there already, depending on linter, so get duplicates).</li>
<li><strong>Converter:</strong>
<ul>
<li>‚ÄúFirst code line‚Äù now excludes comments.</li>
<li>Can now handle Quarto {{&lt; include ... &gt;}} syntax (comments the line, else linters break as not valid Python syntax).</li>
<li>Can now handle ‚Äú#&lt;&lt;‚Äù code annotations from shafayetShafee‚Äôs line-highlight extension (removes them and any whitespace prior).</li>
<li>Corrected detection of python code chunk start (allowing spaces before {python} and allowing in-line chunk options e.g.&nbsp;{python, echo=‚Ä¶}).</li>
</ul></li>
<li><strong>GitHub actions:</strong> Linting action now fails even for warning messages (previously, just failed for errors but not warnings).</li>
</ul>
</section>
</section>
<section id="v0.5.0---2025-08-18" class="level2">
<h2 class="anchored" data-anchor-id="v0.5.0---2025-08-18">v0.5.0 - 2025-08-18</h2>
<p>Package now supports <code>pydoclint</code>, adds conda-related tooling and optional dev dependencies. Code now uses type hints, and have add some version-specific test and installation skips.</p>
<section id="added-2" class="level3">
<h3 class="anchored" data-anchor-id="added-2">Added</h3>
<ul>
<li><strong>pydoclint:</strong> Add support for a new linter: <code>pydoclint</code>.</li>
<li><strong>Environment:</strong> Add <code>grayskull</code>, <code>types-toml</code>, and made a <code>[dev]</code> optional dependencies section in <code>pyproject.toml</code>. Add exclusions for particular python versions.</li>
</ul>
</section>
<section id="changed-2" class="level3">
<h3 class="anchored" data-anchor-id="changed-2">Changed</h3>
<ul>
<li><strong>Type hints:</strong> Add type hints to package, and then use <code>pydoclint</code> and <code>mypy</code> when linting docs and package.</li>
<li><strong>CONTRIBUTING:</strong> Improvements include table of contents and instructions for conda upload.</li>
<li><strong>Documentation:</strong>
<ul>
<li>Add conda badge and PyPI downloads badges.</li>
<li>Add explanation for <code>mypy</code> output containing files outside specified path.</li>
<li>Mentioned ‚Äúcode analysis tools‚Äù (rather than referring to <code>radon</code> as a linter).</li>
</ul></li>
<li><strong>Test:</strong> Utility function for skipping tests when unavailable on certain python versions.</li>
</ul>
</section>
</section>
<section id="v0.4.0---2025-08-14" class="level2">
<h2 class="anchored" data-anchor-id="v0.4.0---2025-08-14">v0.4.0 - 2025-08-14</h2>
<p>Extended support for radon, incorporating commands for maintainability index, Halstead metrics, and raw code metrics. Also some additional tests and documentation improvements, and a few small fixes.</p>
<section id="added-3" class="level3">
<h3 class="anchored" data-anchor-id="added-3">Added</h3>
<ul>
<li><strong>Radon:</strong> Extended support beyond <code>radon cc</code> - now also supports <code>radon mi</code>, <code>radon hal</code> and <code>radon raw</code> - which required addition of <code>preserve_line_count</code> in <code>QmdToPyConverter</code>.</li>
<li><strong>Tests:</strong>
<ul>
<li>Add back testing for every linter (<code>test_back.py</code>).</li>
<li>Add test using <code>check-dependencies</code> which tests for missing or undeclared dependencies.</li>
<li>Add new tests related to radon changes (<code>test_preserve_line_count_false_removes_non_code()</code>, <code>test_radon_hal_preserve_line_effect()</code>).</li>
</ul></li>
<li><strong>Build:</strong> Add <code>toml</code> as required dependency</li>
</ul>
</section>
<section id="changed-3" class="level3">
<h3 class="anchored" data-anchor-id="changed-3">Changed</h3>
<ul>
<li><strong>Radon:</strong> Command for radon cc is now <code>radon-cc</code> (was <code>radon</code> before).</li>
<li><strong>Documentation:</strong>
<ul>
<li><code>docs.yaml</code> now uses Python 3.12 (as one of the linters is unsupported in 3.13).</li>
<li>Improved readability of <code>CONTRIBUTING.md</code>.</li>
<li>Correct statement about only specifying one linter per command in <code>README.md</code>.</li>
<li>Add back in bold and gap for PyPI button.</li>
</ul></li>
</ul>
</section>
<section id="removed" class="level3">
<h3 class="anchored" data-anchor-id="removed">Removed</h3>
<ul>
<li><strong>Tests:</strong> Removed some redundant <code>check_available</code> tests (which were actually already covered by <code>check_supported</code>).</li>
</ul>
</section>
<section id="fixed-2" class="level3">
<h3 class="anchored" data-anchor-id="fixed-2">Fixed</h3>
<ul>
<li><strong>File type:</strong> Fixed replacement of <code>.py</code> with <code>.qmd</code> in the output for some linters.</li>
<li><strong>Tests:</strong> Include error in checkd output and remove line numbers for pytype. Add skip for <code>pytype</code> back-test for unsupported python versions.</li>
<li><strong><code>lint_package.sh</code>:</strong> Only run pylint on files that exist in <code>tests/</code> to prevent false error about <code>tests/__init__.py</code>.</li>
</ul>
</section>
</section>
<section id="v0.3.0---2025-07-07" class="level2">
<h2 class="anchored" data-anchor-id="v0.3.0---2025-07-07">v0.3.0 - 2025-07-07</h2>
<p>Major updates include support for multiple linters and file/directory exclusion, expanded testing, several fixes (e.g.&nbsp;false positive linter warnings, deletion of <code>.py</code> files, coverage badge), and the removal of <code>pylama</code>.</p>
<section id="added-4" class="level3">
<h3 class="anchored" data-anchor-id="added-4">Added</h3>
<ul>
<li><strong>Exclude:</strong> Add an <code>-e</code> / <code>--exclude</code> flag to exclude files/directories, with examples in documentation.</li>
<li><strong>Multiple linters:</strong> Add option to run multiple linters using <code>-l</code> / <code>--linters</code>.</li>
<li><strong>Tests:</strong> Expanded to provide a comprehensive set of unit tests for the <code>args</code>, <code>converter</code>, <code>linelength</code> and <code>linters</code> modules, as well as integration and functional tests for the <code>__main__</code> module.</li>
<li><strong>Test CI:</strong> GitHub actions workflow now runs tests on multiple Python versions (3.7-3.13).</li>
</ul>
</section>
<section id="changed-4" class="level3">
<h3 class="anchored" data-anchor-id="changed-4">Changed</h3>
<ul>
<li><strong>Converter:</strong> Changed conversion of quarto to python file from a function (<code>_qmd_lines_to_py_lines</code>) to a class (<code>QmdToPyConverter</code>).</li>
<li><strong>Command to run lintquarto:</strong> To run multiple linters, now required to use <code>-l</code> / <code>--linters</code> for linters and <code>-p</code> / <code>--paths</code> for files and directories.</li>
</ul>
</section>
<section id="removed-1" class="level3">
<h3 class="anchored" data-anchor-id="removed-1">Removed</h3>
<ul>
<li><strong>Pre-commit:</strong> Removed, as it was not functioning as intended and a manual workflow is now preferred.</li>
<li><strong><code>Pylama</code>:</strong> Removed, since its supported linters are now integrated directly, and the others were either redundant or deprecated <a href="https://github.com/lintquarto/lintquarto/issues/25">(#25)</a>.</li>
<li><strong>Behind the scenes:</strong> removed as now more complex and decided better to just look at the code rahter than page in docs, more standard, and up to date, etc.</li>
</ul>
</section>
<section id="fixed-3" class="level3">
<h3 class="anchored" data-anchor-id="fixed-3">Fixed</h3>
<ul>
<li><strong>README:</strong> Display of coverage badge.</li>
<li><strong>Chunk options:</strong> Amends Quarto code chunk options from <code>#| ...</code> to <code># | ...</code> to avoid linting errors.</li>
<li><strong>E305:</strong> Linters like <code>flake8</code> will warn ‚ÄúExpected 2 blank lines after end of function or class (E305)‚Äù at the start of a quarto code cell, but this will <em>never</em> be true, so for those linters, <code>noqa: E305</code> is always appended.</li>
<li><strong>E302:</strong> For functions/classes defined at the start of a quarto code cell, linters like <code>flake8</code> will also warn ‚ÄúExpected 2 blank lines, found 0 (E302)‚Äù. This will also not be true, so in those cases, <code>noqa: E302</code> is appended.</li>
<li><strong>E501:</strong> When appending <code>noqa: E302,E305</code> the line length can then become too long - ‚ÄúLine too long (82 &gt; 79 characters) (E501)‚Äù. Hence, this warning is disabled in these cases (where the line length was fine before, but not after adding the noqa comment).</li>
<li><strong>Deletion of .py file:</strong> When creating the temporary python file, the converter would replace any of the same name in the directory. If not keeping, it would then delete it. This issue has been fixed, by appending the duplicate temporary filename (e.g.&nbsp;<code>file (1).py</code>).</li>
<li><strong>C0114:</strong> <code>pylint</code> will warn ‚Äúmissing-module-docstring / C0114‚Äù but this will never be relevant for a quarto file so has been disabled.</li>
<li><strong>Errors in <code>convert_qmd_to_py</code>:</strong> For <code>FileNotFoundError</code> and <code>PermissionError</code>, corrected to also <code>return None</code> (as already done for <code>Exception</code>).</li>
<li><strong>Coverage badge:</strong> Coverage badge is now pushed to the repository when generated in the tests GitHub action.</li>
</ul>
</section>
</section>
<section id="v0.2.0---2025-06-27" class="level2">
<h2 class="anchored" data-anchor-id="v0.2.0---2025-06-27">v0.2.0 - 2025-06-27</h2>
<p>Major updates include expanded linter support, new Quarto documentation, and new CI/CD workflows.</p>
<section id="added-5" class="level3">
<h3 class="anchored" data-anchor-id="added-5">Added</h3>
<ul>
<li><strong>Linter support:</strong> Added support for new Python linters: <code>pyflakes</code>, <code>ruff</code>, <code>pylama</code>, <code>vulture</code>, <code>pycodestyle</code>, <code>pyright</code>, <code>pyrefly</code> and <code>pytype</code>.</li>
<li><strong>Documentation:</strong>
<ul>
<li>Introduced Quarto documentation site with getting started, API reference, user guide and detailed linter pages.</li>
<li>Add the <code>downloadthis</code> extension to allow download buttons in <code>.qmd</code> files.</li>
<li>Add a Makefile for building and previewing the documentation.</li>
</ul></li>
<li><strong>CI/CD:</strong> Added GitHub actions to build documentation and run tests.</li>
<li><strong>Linting the package:</strong> Added scripts and a pre-commit hook to lint the package code and documentation.</li>
<li><strong>Environment:</strong> Created a stable version of the environment with pinned versions using Conda.</li>
</ul>
</section>
<section id="changed-5" class="level3">
<h3 class="anchored" data-anchor-id="changed-5">Changed</h3>
<ul>
<li><strong>Refactoring:</strong> Refactored and simplified main code and converter logic, and linted the package.</li>
<li><strong>README:</strong> Updated with new buttons and shield badges.</li>
<li><strong>CONTRIBUTING:</strong> Add instructions on releases, bug reports, dependency versions, testing, and linting.</li>
<li><strong>Environment:</strong> Add <code>jupyter</code>, <code>genbadge</code>, <code>pre-commit</code>, <code>pytest-cov</code> and <code>quartodoc</code> to the environment.</li>
</ul>
</section>
<section id="fixed-4" class="level3">
<h3 class="anchored" data-anchor-id="fixed-4">Fixed</h3>
<ul>
<li><strong>README:</strong> Corrected links (PyPI, Zenodo, external images).</li>
</ul>
</section>
</section>
<section id="v0.1.0---2025-06-24" class="level2">
<h2 class="anchored" data-anchor-id="v0.1.0---2025-06-24">v0.1.0 - 2025-06-24</h2>
<p>üå± First release.</p>
<section id="added-6" class="level3">
<h3 class="anchored" data-anchor-id="added-6">Added</h3>
<ul>
<li>Lint Quarto markdown (<code>.qmd</code>) files using <code>pylint</code>, <code>flake8</code>, or <code>mypy</code>.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/lintquarto\.github\.io\/lintquarto\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>